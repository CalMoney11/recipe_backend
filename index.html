<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Recipe Generator</title>
    <!-- Load Tailwind CSS CDN -->
    <script src="script.js"></script>
    <!-- Link to custom styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-gray-900 mb-2">
                What's for Dinner?
            </h1>
            <p class="text-xl text-gray-600">
                Generate recipes based on ingredients you have!
            </p>
        </header>

        <!-- Input Card -->
        <div class="card">
            <h2 class="text-2xl font-semibold text-gray-800 mb-6">
                1. Provide Ingredients
            </h2>

            <!-- Image Input Section -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Upload a photo of your fridge/pantry or take a new one:
                </label>
                <div class="file-input-wrapper">
                    <!-- The 'capture' attribute is key for mobile devices to access the camera -->
                    <input type="file" id="imageInput" accept="image/*" capture="environment" onchange="displayFileName(this)">
                    <label for="imageInput" class="file-input-label">
                        <!-- Icon for Upload/Camera (Inline SVG) -->
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.865-1.297a2 2 0 011.664-.89h1.772a2 2 0 011.664.89l.865 1.297a2 2 0 001.664.89H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        <span id="fileNameDisplay">Upload/Capture Photo</span>
                    </label>
                </div>
                <p id="imageStatus" class="mt-2 text-sm text-gray-500"></p>
            </div>

            <!-- Text Prompt Section -->
            <div class="mb-8">
                <label for="foodPrompt" class="block text-sm font-medium text-gray-700 mb-2">
                    Or, type what food/ingredients you have:
                </label>
                <input type="text" id="foodPrompt" placeholder="e.g., chicken, tomatoes, pasta, quick dinner, vegetarian"
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-gray-700">
            </div>

            <!-- Action Button -->
            <div class="text-center">
                <button onclick="getRecipes()" id="recipeButton"
                        class="btn-primary w-full sm:w-auto px-6 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed">
                    <span id="buttonText">Get Recipes</span>
                </button>
            </div>
        </div>
        
        <!-- Recipes Display Area -->
        <div class="card min-h-64" id="recipesOutput">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                2. Generated Recipes
            </h2>
            <div id="recipeContent" class="space-y-4 text-gray-700">
                <p class="text-gray-500 italic">
                    Recipes will appear here after you submit your ingredients.
                </p>
            </div>
        </div>
    </div>
    <!-- Link to external script file -->
    <script src="script.js"></script>